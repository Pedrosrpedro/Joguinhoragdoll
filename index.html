<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ragdoll Sandbox</title>
    
    <!-- Link para a fonte do Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    
    <!-- Link para o seu arquivo de estilos CSS -->
    <link rel="stylesheet" href="style.css">
</head>

<body>
<div id="notification-container"></div>    
<!-- Wrapper para manter a proporÃ§Ã£o e centralizar o jogo -->
    <div id="aspect-ratio-wrapper">
        <!-- Este container segura todas as telas -->
        <div id="root-container">

            <!-- Menu Principal -->
            <div id="main-menu">
                <div class="main-menu-list">
                    <button id="main-menu-play">jogar</button>
                    <button id="main-menu-settings">configuraÃ§Ãµes</button>
                    <button id="main-menu-mods">mods</button>
                    <button id="main-menu-information">informaÃ§Ãµes</button>
                    <button id="main-menu-quit">sair</button>
                </div>
                <div class="main-menu-title">
                    <h1>Ragdoll Sandbox</h1>
                </div>
            </div>

            <!-- Tela de SeleÃ§Ã£o de Mapa -->
            <div id="map-selection-screen">
                <h2>Selecione um Mapa</h2>
                <div class="map-grid-container">
                    <button class="map-preview-btn" data-map="padrao">
                        <div class="map-preview-visual"></div>
                        <span class="map-name">PadrÃ£o</span>
                    </button>
                    <button class="map-preview-btn" data-map="pequeno">
                        <div class="map-preview-visual"></div>
                        <span class="map-name">Pequeno</span>
                    </button>
                     <button class="map-preview-btn" data-map="grande">
                        <div class="map-preview-visual"></div>
                        <span class="map-name">Grande</span>
                    </button>
                    <button class="map-preview-btn" data-map="montanhas">
                        <div id="montanhas-visual" class="map-preview-visual">
                            <div class="mountain m1"></div>
                            <div class="mountain m2"></div>
                            <div class="mountain m3"></div>
                        </div>
                        <span class="map-name">Montanhas</span>
                    </button>
                    <button class="map-preview-btn" data-map="agua">
                        <div id="agua-visual" class="map-preview-visual">
                            <div class="ground"></div>
                            <div class="water"></div>
                        </div>
                        <span class="map-name">Ãgua</span>
                    </button>
                     <button class="map-preview-btn" data-map="predio">
                        <div id="predio-visual" class="map-preview-visual">
                            <div class="building-wall bw1"></div>
                            <div class="building-wall bw2"></div>
                            <div class="building-wall bw3"></div>
                        </div>
                        <span class="map-name">PrÃ©dio</span>
                    </button>
                    <button class="map-preview-btn" data-map="abismo">
                        <div id="abismo-visual" class="map-preview-visual">
                            <div class="platform p1"></div>
                             <div class="platform p2"></div>
                        </div>
                        <span class="map-name">Abismo</span>
                    </button>
                </div>
            </div>

            <!-- Container do Jogo -->
            <div id="game-container">
                <!-- O Canvas do p5.js serÃ¡ inserido aqui -->
                <div id="top-bar">
                    <button id="icon-favorites" title="Favoritos">â™¥</button>
                    <button id="icon-items-basic" class="active-category-icon" title="Itens BÃ¡sicos">ğŸ“¦</button>
                    <button id="icon-firearms" title="Armas de Fogo">ğŸ”«</button>
                    <button id="icon-people" title="Seres Vivos">ğŸ§</button>
                    <button id="icon-vehicles" title="VeÃ­culos">ğŸš—</button>
                    <button id="icon-syringes" title="Seringas">ğŸ’‰</button>
                    <button id="icon-machines" title="MÃ¡quinas">ğŸ”©</button>
                    <button id="icon-explosives" title="Explosivos">ğŸ’£</button>
                    <button id="icon-tools-category" title="Ferramentas">âš™ï¸</button>
                    <button id="icon-info" title="InformaÃ§Ãµes">?</button>
                    <button id="icon-save" title="Salvar">ğŸ’¾</button>
                    <button id="icon-plus" title="Criar Item">+</button>
                </div>

                <div id="left-sidebar">
                    <div class="filter-bar">
                        <input type="text" placeholder="filtrar">
                        <button class="clear-filter">âœ–</button>
                    </div>
                    <div id="item-grid-wrapper">
    <!-- Categorias de Itens -->
    <div id="category-favorites-content" class="item-category">
        <div class="category-label">Favoritos</div>
        <p style="font-size: 12px; color: #888; text-align: center;">NÃ£o implementado.</p>
        <div class="item-grid"></div>
    </div>

    <div id="category-items-basic" class="item-category active">
        <div class="category-label">Itens</div>
        <div class="item-grid">
            <button class="item-btn active-create-type" data-tipo="mao">ğŸ–ï¸</button>
            <button class="item-btn" data-tipo="caixa">ğŸ“¦</button>
            <button class="item-btn" data-tipo="bola">ğŸ€</button>
            <button class="item-btn" data-tipo="barril">ğŸ›¢ï¸</button>
            <button class="item-btn" data-tipo="parede">ğŸ§±</button>
            <button class="item-btn" data-tipo="triangulo">ğŸ”º</button>
            <button class="item-btn" data-tipo="cano">â–</button>
        </div>
    </div>

    <div id="category-firearms-content" class="item-category">
        <div class="category-label">Armas</div>
        <div class="item-grid">
            <button class="item-btn" data-tipo="pistola">ğŸ”«</button>
            <button class="item-btn" data-tipo="lamina">ğŸ”ª</button>
            <button class="item-btn" data-tipo="marreta">ğŸ”¨</button>
        </div>
    </div>

    <!-- NOVA CATEGORIA -->
    <div id="category-explosives-content" class="item-category">
        <div class="category-label">Explosivos</div>
        <div class="item-grid">
            <button class="item-btn" data-tipo="granada">ğŸ’£</button>
            <button class="item-btn" data-tipo="c4">ğŸ§±</button>
            <button class="item-btn" data-tipo="detonador">ğŸ“¡</button>
        </div>
    </div>

    <div id="category-people-content" class="item-category">
        <div class="category-label">Seres Vivos</div>
        <div class="item-grid">
            <button class="item-btn" data-tipo="boneco">ğŸ§</button>
        </div>
    </div>

    <div id="category-vehicles-content" class="item-category">
        <div class="category-label">VeÃ­culos</div>
        <div class="item-grid">
            <button class="item-btn" data-tipo="carro">ğŸš—</button>
            <button class="item-btn" data-tipo="onibus">ğŸšŒ</button>
        </div>
    </div>
    
    <div id="category-syringes-content" class="item-category">
        <div class="category-label">Seringas</div>
        <div class="item-grid">
            <button class="item-btn" data-tipo="seringa_vazia" title="Seringa Vazia">ğŸ’‰</button>
            <button class="item-btn" data-tipo="seringa_sangue" title="Seringa de Sangue">ğŸ©¸</button>
            <button class="item-btn" data-tipo="seringa_acido" title="Seringa de Ãcido">ğŸ§ª</button>
            <button class="item-btn" data-tipo="seringa_adrenalina" title="Seringa de Adrenalina">âš¡ï¸</button>
            <button class="item-btn" data-tipo="seringa_cura" title="Seringa de Cura">â¤ï¸</button>
            <button class="item-btn" data-tipo="seringa_zumbi" title="Seringa de Zumbi">ğŸ§Ÿ</button>
            <button class="item-btn" data-tipo="seringa_imortalidade" title="Seringa de Imortalidade">ğŸ‘‘</button>
            <button class="item-btn" data-tipo="seringa_fogo" title="Seringa de Fogo">ğŸ”¥</button>
            <button class="item-btn" data-tipo="seringa_nitro" title="Seringa de Nitroglicerina">ğŸ’¥</button>
            <!-- NOVAS SERINGAS -->
            <button class="item-btn" data-tipo="seringa_anti_gravidade" title="Seringa Anti-Gravidade">ğŸ’¨</button>
            <button class="item-btn" data-tipo="seringa_encolher" title="Seringa de Encolhimento">ğŸ¤</button>
            <button class="item-btn" data-tipo="seringa_crescer" title="Seringa de Crescimento">ğŸ’ª</button>
            <button class="item-btn" data-tipo="seringa_petrificar" title="Seringa de PetrificaÃ§Ã£o">ğŸ—¿</button>
        </div>
    </div>

    <div id="category-machines-content" class="item-category">
        <div class="category-label">MÃ¡quinas e EletrÃ´nicos</div>
        <div class="item-grid">
            <button class="item-btn" data-tipo="gerador" title="Gerador">ğŸ”‹</button>
            <button class="item-btn" data-tipo="propulsor" title="Propulsor">ğŸš€</button>
            <button class="item-btn" data-tipo="pistao" title="PistÃ£o">ğŸ”©</button>
            <button class="item-btn" data-tipo="botao" title="BotÃ£o">ğŸ”˜</button>
            <button class="item-btn" data-tipo="alavanca" title="Alavanca">ğŸ•¹ï¸</button>
            <button class="item-btn" data-tipo="liquid_container" title="ContÃªiner de LÃ­quido">ğŸ›¢ï¸</button>
        </div>
    </div>

    <div id="category-tools-content" class="item-category">
        <div class="category-label">Ferramentas e Conectores</div>
        <div class="item-grid">
            <button class="tool-btn" data-tipo="corda">Corda â›“ï¸</button> 
            <button class="tool-btn" data-tipo="mola">Mola ã€°ï¸</button> 
            <button class="tool-btn" data-tipo="prego">Prego/Solda ğŸ“Œ</button> 
            <button class="tool-btn" data-tipo="cabo_eletrico">Cabo ElÃ©trico âš¡</button>
            <button class="tool-btn" data-tipo="tubo_liquido">Tubo de LÃ­quido ğŸ’§</button>
            <br>
            <button id="slowMoButton" class="tool-btn">CÃ‚MERA LENTA</button> 
            <button id="freezeToggleButton" class="tool-btn">CONGELAR</button>
        </div>
    </div>
</div>

                <div id="bottom-bar">
                    <button id="settings-button">ConfiguraÃ§Ãµes</button>
                    <button id="environment-button">Ambiente</button>
                    <button id="btnClearAll">Limpar Tudo</button>
                    <button id="btnClearDebris">Limpar Detritos</button>
                    <button id="btnClearLiving">Limpar Seres Vivos</button>
                    <button id="btnClearRopes">Limpar Cabos</button> 
                </div>
                
                <div id="mobile-controls">
                    <div class="control-group">
                        <button id="btnVehicleLeft" title="Mover VeÃ­culo para Esquerda">â¬…ï¸</button>
                        <button id="btnVehicleRight" title="Mover VeÃ­culo para Direita">â¡ï¸</button>
                    </div>
                    <div class="control-group">
                        <button id="btnSlowMo" title="CÃ¢mera Lenta">ğŸ•’</button>
                        <button id="btnZoomOut" title="Zoom Out">-</button>
                        <button id="btnZoomIn" title="Zoom In">+</button>
                    </div>
                    <div class="control-group">
                        <button id="btnShoot" title="Atirar">ğŸ’¥</button>
                        <button id="btnGrabDrop" title="Pegar/Largar">âœ‹</button>
                        <button id="btnFreeze" title="Congelar">â„ï¸</button>
                        <button id="btnDonor" title="Modo Doador/Receptor">H</button>
                        <button id="btnMobileActivate" title="Ativar MÃ¡quina">âš¡</button>
                        <button id="btnMobileDetonate" title="Detonar C4">ğŸ’£</button>
                    </div>
                </div>
            </div>
                </div>

                <div id="floating-tool-panel">
                    Clique para iniciar a corda
                </div>
            </div>

            <!-- Modais do Jogo -->
            <div id="settings-modal" class="game-modal">
                <div class="modal-content">
                    <h2>ConfiguraÃ§Ãµes</h2>
                    <div class="settings-grid">
                        <label>
                            <span>Exibir Grade</span>
                            <input type="checkbox" id="toggle-grid-cb" checked>
                        </label>
                        <label>
                            <span>Exibir Sangue</span>
                            <input type="checkbox" id="toggle-blood-cb" checked>
                        </label>
                        <label>
                            <span>Controles Mobile</span>
                            <input type="checkbox" id="toggleMobileControls">
                        </label>
                        <label>
                            <span>Tela Cheia</span>
                            <input type="checkbox" id="toggle-fullscreen-cb">
                        </label>
                    </div>
                    <button class="close-modal-btn">Fechar</button>
                </div>
            </div>
            
            <div id="mods-modal" class="game-modal">
                <div class="modal-content">
                    <h2>Mods</h2>
                    <p>A oficina de mods nÃ£o estÃ¡ implementada nesta versÃ£o.</p>
                    <button class="close-modal-btn">Fechar</button>
                </div>
            </div>

            <div id="environment-modal" class="game-modal">
                <div class="modal-content">
                    <h2>Controle de Ambiente</h2>
                    <button id="toggle-gravity-btn">Alternar Gravidade</button>
                    <button class="close-modal-btn">Fechar</button>
                </div>
            </div>

            <div id="info-modal" class="game-modal">
                <div class="modal-content">
                    <h2>InformaÃ§Ãµes</h2>
                    <ul>
                        <li>Mouse: Arrastar objetos (com a ferramenta MÃ£o selecionada).</li>
                        <li>Arrastar o fundo com a MÃ£o para mover a cÃ¢mera.</li>
                        <li>Seringas: Crie e arremesse nos bonecos para fincar e injetar.</li>
                        <li>Cabos/Tubos: Clique em um objeto para iniciar e em outro para conectar.</li>
                        <li>Teclas [ e ] para controlar o zoom.</li>
                        <li>O: Segure um objeto com o mouse e aperte 'O' para a cÃ¢mera segui-lo.</li>
                        <li>I: Segure uma seringa com o mouse e aperte 'I' para ver seu conteÃºdo.</li>
                        <li>H: Segure um objeto e aperte 'H' para alternar o modo "Doador/Receptor" de lÃ­quidos.</li>
                        <li>F: Aponte para uma mÃ¡quina (propulsor, pistÃ£o) e aperte 'F' para ativar/desativar.</li>
                        <li>B: Detona todas as C4s plantadas.</li>
                        <li>R: Atirar com a pistola.</li>
                        <li>P: Alternar CÃ¢mera Lenta.</li>
                        <li>K: Congelar/Descongelar objeto sendo arrastado.</li>
                        <li>Controles Mobile: âš¡ (Ativa mÃ¡quina no centro da tela), ğŸ’£ (Detona C4s).</li>
                    </ul>
                    <button class="close-modal-btn">Fechar</button>
                </div>
            </div>

            <div id="save-modal" class="game-modal">
                <div class="modal-content">
                    <h2>Salvar Jogo</h2>
                    <p>Funcionalidade de salvar nÃ£o implementada.</p>
                    <button class="close-modal-btn">Fechar</button>
                </div>
            </div>

            <div id="plus-modal" class="game-modal">
                <div class="modal-content">
                    <h2>Criar Item</h2>
                    <p>Use o menu lateral esquerdo para criar itens.</p>
                    <button class="close-modal-btn">Fechar</button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Scripts de Bibliotecas Externas -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/matter-js/0.18.0/matter.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/poly-decomp/0.3.0/poly-decomp.min.js"></script>

    <!-- Link para o seu arquivo JavaScript -->
    <script src="script.js"></script>
</body>
</html>
